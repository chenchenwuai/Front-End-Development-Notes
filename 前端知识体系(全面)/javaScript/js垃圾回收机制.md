### 内存管理的主要问题
内存管理最艰难的任务是找到“哪些被分配的内存确实已经不再需要了”。最好是开发人员来确定在程序中哪一块内存不再需要并且释放它。垃圾回收器主要工作是跟踪内存的分配和使用，以便当分配的内存不再使用时，自动释放它。这只能是一个近似的过程，因为要知道是否仍然需要某块内存是无法判定的(无法通过某种算法解决)。

### 引用计数垃圾收集
这是最初级的垃圾收集算法。如果没有引用指向该对象(零引用)，对象将被垃圾回收机制回收。

### 引用计数法的缺点：无法处理循环引用
在下面的例子中，两个对象被创建，并互相引用，形成了一个循环。它们被调用之后会离开函数作用域，所以它们已经没有用了，可以被回收了。然而，引用计数算法考虑到它们互相都有至少一次引用，所以它们不会被回收。
```js
function f(){
  var o = {};
  var o2 = {};
  o.a = o2; // o 引用 o2
  o2.a = o; // o2 引用 o
  return "hello world";
}

f();
```

### 标记-清除算法
这个算法假定设置一个叫做根（root）的对象（在Javascript里，根是全局对象）。垃圾回收器将定期从根开始，找所有从根开始引用的对象，然后找这些对象引用的对象……从根开始，垃圾回收器将找到所有可以获得的对象和收集所有不能获得的对象。这也是标记阶段。

在清除阶段，垃圾回收器将清除所有不能获得的对象

从2012年起，所有现代浏览器都使用了标记-清除垃圾回收算法。

### 循环引用不再是问题了
在上面的示例中，函数调用返回之后，两个对象从全局对象出发无法获取。因此，他们将会被垃圾回收器回收。

### 限制: 那些无法从根对象查询到的对象都将被清除
尽管这是一个限制，但实践中我们很少会碰到类似的情况，所以开发者不太会去关心垃圾回收机制