### 屏幕刷新率
- 目前大多数设备的屏幕刷新率为60次/秒
- 浏览器渲染动画或页面的每一帧的速率也需要跟设备屏幕的刷新率保持一致
- 页面是一帧一帧绘制出来的，当每秒绘制的帧数(FPS)达到60时，页面是流畅的，小于这个值时，用户会感觉到卡顿
- 每个帧的预算时间是16.66毫秒(1秒/60)
- 1s60帧，所以每一帧分到的时间是1000/60 = 16ms，所以我们书写代码时力求不让一帧的工作量超过16ms。

### 帧
- 每个帧的开头包括样式计算、布局和绘制
- JavaScript执行。JavaScript引擎和页面渲染引擎在同一个渲染线程，GUI渲染和JavaScript执行两者是互斥的。
- 如果某个任务执行时间过长，浏览器会推迟渲染。
- 一帧的生命周期
![image](https://github.com/lizuncong/Front-End-Development-Notes/blob/master/resource/npm-01.png)


### requestIdleCallback
- 我们希望快速响应用户，让用户觉得够快，不能阻塞用户的交互。
- requestIdleCallback使开发者能够在主事件循环上执行后台和低优先级工作，而不会影响延迟关键事件，如动画和输入响应
- 正常帧任务完成后没超过 `16ms`，说明时间有富余，此时就会执行 requestIdleCallback 里注册的任务。
